---
- name: Gather information from routers
  hosts: all
  gather_facts: no
  
  vars_files:
    - if_var.yml
    
  tasks:
    - name: Gather router facts
      cisco.ios.facts:
      
    - name: Display version
      debug:
        msg: "The IOS version is: {{ ansible_net_version }}"    

    - name: configure layer3 interface for ios
      ios_l3_interfaces:
        config: "{{l3_interface}}"

    - name: load ios system properties onto device
      ios_system:
        domain_name: "{{network_domain_name | default(omit, True) }}"
        domain_search: "{{network_domain_search | default(omit, True)}}"
        hostname: "{{network_hostname | default(omit, True)}}"
        lookup_source: "{{network_lookup_source | default(omit, True) }}"
        name_servers: "{{network_name_servers | default(omit, True) }}"
